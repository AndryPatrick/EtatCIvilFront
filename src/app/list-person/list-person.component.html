
<!-- Load an icon library -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<!-- The sidebar -->
<div class="sidebar">
  <a href="#home"><i class="fa fa-fw fa-home"></i> Accueil</a>
  <a href="#services"><i class="fa fa-fw fa-wrench"></i> Services</a>
  <a href="http://localhost:4200/listePerson"><i class="fa fa-fw fa-user"></i> Clients</a>
  <a href="#contact"><i class="fa fa-fw fa-envelope"></i> Contact</a>
</div>
<div class="main">
  <div class="topnav" id="myTopnav">
    <a href="http://localhost:4200/listePerson">Persone</a>
    <a href="#contact">Localisation</a>
    <!--<div class="dropdown">
      <button class="dropbtn">Dropdown
        <i class="fa fa-caret-down"></i>
      </button>
      <div class="dropdown-content">
        <a href="#">Link 1</a>
        <a href="#">Link 2</a>
        <a href="#">Link 3</a>
      </div>
    </div> 
    <a href="#about">About</a> -->
    <a href="javascript:void(0);" class="icon" onclick="myFunction()">&#9776;</a>
  </div>
  <ng-template #content let-modal>
        <div class="modal-header">
          <h4 class="modal-title" id="modal-basic-title">Ajouter une personne</h4>
          <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form>

              <div class="form-group">
                <label for="name"><span class="req">*</span> Nom:</label>
                <input required type="text"  name="name" [(ngModel)]="person.name"
                 class="form-control" type="text" placeholder="Entrer votre nom"/>
              </div>

              <div class="form-group">
                <label for="username"><span class="req">*</span> Prénom:</label>
                <input required type="text"  name="username" [(ngModel)]="person.familyName"
                    class="form-control" type="text" placeholder="Entrer votre prénom"/>
              </div>

              <!--<label for="dateOfBirth">Date de naissance:</label>
              <div class="input-group">
                <input for="dateOfBirth"class="form-control" [(ngModel)]="person.dateOfBirth"
                    placeholder="yyyy-mm-dd" name="dateOfBirth" ngbDatepicker #dp="ngbDatepicker">
                      <div class="input-group-append">
                         <button class="btn btn-outline-secondary calendar" (click)="dp.toggle()" type="button"></button>
                    </div>
              </div> 

              <div class="col-xs-12 col-12 col-md-4 form-group">
                <input type="text" palceholder="Datepicker" class="form_control" bsDatepicker>
              </div> -->

              <div class="form-group">
                <label for="dateOfBirth"><span class="req">*</span> Date de naissance:</label>
                    <input required type="date" name="dateOfBirth" [(ngModel)]="person.dateOfBirth" 
                    class="form-control" type="text" placeholder="lieu de naisance" bsDatepicker/>
            </div>


            <div class="form-group">
                <label for="placeholder"><span class="req">*</span> Lieu de naissance:</label>
                    <input required type="text" name="placeholder" [(ngModel)]="person.placeOfBirth" 
                    class="form-control" type="text" placeholder="lieu de naisance"/>
            </div>

            <div class="form-group">
                <label for="identityNumber"><span class="req">*</span> N° CIN:</label>
                   <input required type="text"  name="identityNumber" [(ngModel)]="person.identityNumber"
                    class="form-control" type="number" placeholder="numéro CIN"/>
            </div>

            <!--<label for="dateDelivry"><span class="req">*</span> Date de delivrance:</label>
            <div class="input-group">
              <input for="dateDelivry" class="form-control" [(ngModel)]="person.dateDelivry" 
                  placeholder="yyyy-mm-dd" name="dateDelivry" ngbDatepicker #dp1="ngbDatepicker">
              <div class="input-group-append">
                  <button class="btn btn-outline-secondary calendar" (click)="dp1.toggle()" type="button"></button>
              </div>
            </div> -->


            <div class="form-group">
              <label for="dateDelivry"><span class="req">*</span> Date de délivrance:</label>
                  <input required type="date"  name="dateDelivry" [(ngModel)]="person.dateDelivry"
                  class="form-control" type="text" placeholder="Date de délivrance" bsDatepicker/>
              <div class="status" id="status"></div>   
          </div>



            <div class="form-group">
              <label for="placeDelivry"><span class="req">*</span> Lieu de délivrance:</label>
                  <input required type="text"  name="placeDelivry" [(ngModel)]="person.placeDelivry"
                  class="form-control" type="text" placeholder="Lieu de délivrance"/>
              <div class="status" id="status"></div>   
          </div>

          <div class="form-group">
            <label for="fatherName"><span class="req">*</span> Nom du père:</label>
            <input required type="text"  name="fatherName" [(ngModel)]="person.fatherName"
                class="form-control" type="text" placeholder="Nom de la mère"/>
            <div class="status" id="status"></div>   
          </div>
          
          <div class="form-group">
            <label for="motherName"><span class="req">*</span> Nom de la mère:</label>
            <input required type="text"  name="motherName" [(ngModel)]="person.motherName"
                class="form-control" type="text" placeholder="Nom de la mère"/>
            <div class="status" id="status"></div>   
          </div>

          <div class="form-group">
            <label for="profession"><span class="req">*</span> Profession:</label>
            <input required type="text"  name="profession" [(ngModel)]="person.profession"
                class="form-control" type="text" placeholder="profession"/>
            <div class="status" id="status"></div>   
          </div>

          <!--<div class="form-group">
            <label for="duplicateDate"><span class="req">*</span> Date Duplicata:</label>
            <div class="input-group">
              <input id="" class="form-control" placeholder="yyyy-mm-dd"  [(ngModel)]="person.duplicateDate"
              name="duplicateDate" ngbDatepicker #dp2="ngbDatepicker">
              <div class="input-group-append">
                <button class="btn btn-outline-secondary calendar" (click)="dp2.toggle()" type="button"></button>
              </div>
            </div> 
          </div>  -->

          <div class="form-group">
            <label for="duplicateDate"><span class="req">*</span> Date duplicata:</label>
            <input required type="date"  name="duplicateDate" [(ngModel)]="person.duplicateDate"
                class="form-control" type="text" placeholder="date de délivrance" bsDatepicker/>
            <div class="status" id="status"></div>   
          </div>


          <div class="form-group">
            <label for="placeOfDuplicateDate"><span class="req">*</span> Lieu duplicata:</label>
            <input required type="text"  name="placeOfDuplicateDate" [(ngModel)]="person.placeOfDuplicateDate"
                class="form-control" type="text" placeholder="lieu de délivrance"/>
            <div class="status" id="status"></div>   
          </div>

          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-dark" (click)="modal.close(addPersonNow())">Enregister</button>
        </div>
      </ng-template>
          
      <button class="btn btn-lg btn-outline-primary" (click)="open(content)">Ajouter person</button>
  
  <hr>

      <pre>{{closeResult}}</pre>
    <div class="container">
        <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                    <tr class="table-dark">
                        <th>N° CIN</th>
                        <th>Nom</th>
                        <th>Prénom</th>
                        <th>Date de naissance</th>
                        <th>Lieu de naissance</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let pers of person1" >
                        <td>{{pers.identityNumber}}</td>
                        <td>{{pers.name}}</td>
                        <td>{{pers.familyName}}</td>
                        <td>{{pers.dateOfBirth}}</td>
                        <td>{{pers.placeOfBirth}}</td>
                        <td class="rest-center"><!--<button class="btn btn-danger btn-xs" (click)="deleteUser(user.userId)"> -->


                          <!-- Button trigger modal -->
                              <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
                                Delete
                              </button>

                              <!-- Modal -->
                              <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog" role="document">
                                  <div class="modal-content">
                                    <div class="modal-header">
                                      <h5 class="modal-title" id="exampleModalLabel" style="text-align: center;">Suppression!!!!!!</h5>
                                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                      </button>
                                    </div>
                                    <div class="modal-body" style="color: red;">
                                      Voulez-vous vraiment supprimer la propriétaire du CIN n° {{pers.name}}
                                    </div>
                                    <div class="modal-footer">
                                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
                                      <button type="button" class="btn btn-primary" (click)="deletePerson(pers.id)" >Ok</button>
                                    </div>
                                  </div>
                                </div>
                              </div>


                         <!-- <button class="btn btn-danger btn-xs" (click)="open('deletePerson()')">
                            <span class="glyphicon glyphicon-remove">delete</span>
                          </button> -->
                          <button>
                            <span class="btn btn-info mb-1">modifier</span>
                          </button>
                        </td>
                    </tr>
                </tbody> 
            </table>
        </div>
    </div>
  </div>
  <p>list-person works!</p>

  <!-- Footer -->
<footer class="page-footer font-small special-color-dark pt-4">

  <!-- Footer Elements -->
  <div class="container">

    <!-- Social buttons -->
    <ul class="list-unstyled list-inline text-center">
      <li class="list-inline-item">
        <a class="btn-floating btn-fb mx-1">
          <i class="fab fa-facebook-f"> </i>
        </a>
      </li>
      <li class="list-inline-item">
        <a class="btn-floating btn-tw mx-1">
          <i class="fab fa-twitter"> </i>
        </a>
      </li>
      <li class="list-inline-item">
        <a class="btn-floating btn-gplus mx-1">
          <i class="fab fa-google-plus-g"> </i>
        </a>
      </li>
      <li class="list-inline-item">
        <a class="btn-floating btn-li mx-1">
          <i class="fab fa-linkedin-in"> </i>
        </a>
      </li>
      <li class="list-inline-item">
        <a class="btn-floating btn-dribbble mx-1">
          <i class="fab fa-dribbble"> </i>
        </a>
      </li>
    </ul>
    <!-- Social buttons -->

  </div>
  <!-- Footer Elements -->

  <!-- Copyright -->
  <div class="footer-copyright text-center py-3">© 2020 Copyright:
    <a href="http://localhost:4200/listePerson"> Spring boot </a>
  </div>
  <!-- Copyright -->

</footer>
<!-- Footer -->
